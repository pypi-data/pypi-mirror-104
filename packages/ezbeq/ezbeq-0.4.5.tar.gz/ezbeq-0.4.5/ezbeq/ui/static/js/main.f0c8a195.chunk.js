(this.webpackJsonpezbeq=this.webpackJsonpezbeq||[]).push([[0],{141:function(e,t,n){"use strict";n.r(t);var a=n(4),c=n(0),r=n.n(c),i=n(13),o=n.n(i),s=(n(132),n(7)),u=n(61),l=n(108),d=n(204),j=n(16),p=n.n(j),f=n(24),h=n(58),b="/api/1",m=new function e(){var t=this;Object(h.a)(this,e),this.getAuthors=function(){return t.doGet("authors")},this.getYears=function(){return t.doGet("years")},this.getAudioTypes=function(){return t.doGet("audiotypes")},this.getContentTypes=function(){return t.doGet("contenttypes")},this.getMeta=function(){return t.doGet("meta")},this.getVersion=function(){return t.doGet("version")},this.doGet=function(){var e=Object(f.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(b,"/").concat(t),{method:"GET"});case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("EzBeq.get".concat(t," failed, HTTP status ").concat(n.status));case 5:return e.next=7,n.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.appendTo=function(e,t,n){if(n&&n.length>0){var a=n.map((function(e){return"".concat(t,"=").concat(e)})).join("&");return"".concat(e).concat(-1===e.indexOf("?")?"?":"&").concat(a)}return e},this.search=Object(f.a)(p.a.mark((function e(){var n,a,c,r,i,o,s=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>0&&void 0!==s[0]?s[0]:null,a=s.length>1&&void 0!==s[1]?s[1]:null,c=s.length>2&&void 0!==s[2]?s[2]:null,r=s.length>3&&void 0!==s[3]?s[3]:["author","year","audioTypes","contentType","title","sortTitle","id","mvAdjust","season","episodes","images","avsUrl","beqcUrl","edition","altTitle"],i=t.appendTo(t.appendTo(t.appendTo(t.appendTo("".concat(b,"/search"),"authors",n),"years",a),"audioTypes",c),"fields",r),e.next=7,fetch(i,{method:"GET"});case 7:if((o=e.sent).ok){e.next=10;break}throw new Error("EzBeq.search failed, HTTP status ".concat(o.status));case 10:return e.next=12,o.json();case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}}),e)}))),this.load=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.search());case 1:case"end":return e.stop()}}),e)}))),this.sendFilter=function(){var e=Object(f.a)(p.a.mark((function e(t,n){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(b,"/device/").concat(n),{method:"PUT",body:JSON.stringify({id:t,command:"load"}),headers:{"Content-Type":"application/json",Accept:"application/json"}});case 2:if((a=e.sent).ok){e.next=5;break}throw new Error("EzBeq.sendFilter failed, HTTP status ".concat(a.status));case 5:return e.next=7,a.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.clearSlot=function(){var e=Object(f.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(b,"/device/").concat(t),{method:"DELETE"});case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("EzBeq.clearSlot failed, HTTP status ".concat(n.status));case 5:return e.next=7,n.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.activateSlot=function(){var e=Object(f.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(b,"/device/").concat(t),{method:"PUT",body:JSON.stringify({command:"activate"}),headers:{"Content-Type":"application/json",Accept:"application/json"}});case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("EzBeq.activateSlot failed, HTTP status ".concat(n.status));case 5:return e.next=7,n.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.setGains=function(){var e=Object(f.a)(p.a.mark((function e(t,n){var a,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[{channel:"master",value:"".concat(n.master_mv),command:"gain"},{channel:"1",value:"".concat(n.inputOne_mv),command:"gain"},{channel:"2",value:"".concat(n.inputTwo_mv),command:"gain"},{channel:"master",value:n.master_mute?"on":"off",command:"mute"},{channel:"1",value:n.inputOne_mute?"on":"off",command:"mute"},{channel:"2",value:n.inputTwo_mute?"on":"off",command:"mute"}],e.next=3,fetch("".concat(b,"/device/").concat(t),{method:"PUT",body:JSON.stringify(a),headers:{"Content-Type":"application/json",Accept:"application/json"}});case 3:if((c=e.sent).ok){e.next=6;break}throw new Error("EzBeq.activateSlot failed, HTTP status ".concat(c.status));case 6:return e.next=8,c.json();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.getDeviceConfig=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.doGet("devices"));case 1:case"end":return e.stop()}}),e)})))},O=n(203),v=n(205),x=n(29),g=n(191),w=n(192),A=n(207),T=n(116),y=n(144),S=n(145),E=n(112),I=n(100),C=n.n(I),k=n(9),L=Object(u.a)((function(e){return{noLeftTop:{marginLeft:"0px",marginTop:"0px"},title:{flexGrow:1,marginLeft:e.spacing(1)},search:Object(x.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(k.c)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(k.c)(e.palette.common.white,.25)},marginLeft:0,width:"50%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(x.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:"12ch","&:focus":{width:"20ch"}}),smallAvatar:{width:e.spacing(3),height:e.spacing(3)},advancedFilter:{marginLeft:"4px",marginRight:"0px"}}})),R=function(e){var t=e.txtFilter,n=e.handleTxtFilterChange,c=e.showFilters,r=e.toggleShowFilters,i=L();return Object(a.jsx)(g.a,{position:"static",className:i.noLeftTop,children:Object(a.jsxs)(w.a,{children:[Object(a.jsx)(A.a,{alt:"beqcatalogue",variant:"rounded",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAHmUExURRUoRhsuTgQUKAIGEwcTJwkUKDhCUgAAABUnRRcqSxMnRAoVKhcoRRYpSQUNHBEeNCIRIgcSJBIkRBwoPRQoRwsVJwEGKRgrTBIfPa8ABf+gLFw5JhUiOK7XAP+lKwwaMQIDBsUDAxEkRgoiSPudLE5pEz6uyM8DAwYKGmeCCwUIDRAiQRgkORxjihcpRwwlQwMQIDosXf+rLJZq2QsfODUQHx0uQd4CAAsaJxxWa0C0ztICAj9UGbQABEO61LjjACAlLiYsNxYmISUzVlULGEZiFbsCBAEWKgsZLLXfAC0pTAEOKAoqSlU6KL3pAC80P8w0c8h3Lh0SJBpJYE01KE45Kb1yLl5GKWd9A22HBi5BGz9PaotaKj1LY0dUax8yUSUwQyAoScgCAmomT8IzcLstZNg3eVtDjY1lzSdifxQTJXVMpjqivBdAVJ8GCseAMsuDMismKcEDBGILFyp1jC4RIXORC9kDAowDDJi8AjYrKOQDAYEIER1okNOFLKDIAt6QKxceKZZmKrlvLjFBXzBBX1ENGqgxaSQeNUIfN4soVyVeeoFev5gtYLAsYmRMmVkaMDo5Qp5x4wYRKjwgOWVQPgwrPG5JnlhHP1I8MxxWgFduG7huLhE2U5ZiOjhVLcJ0LjyqxOcUrVYAAAJzSURBVDjLhdP3V9pQFAfwEPNqyECCIEsQmYIaREBExAoiInXvvbd111FX1e699/pXe2MYaj3t94d7cl8+eUlOcrHc/wQTiqv9xjVpN6VBZOzhuOSvjD8YqxdBZFhRqqAoiqTcbjeVCSwO1wvANVqK8RiGMcrJZDIpHKXCk4pRE4BIg0JcZR53zHRMu7OEVzTUA5hQk+enqcmZuY65Z01sdg9SPQGgSkqmLng5+2p2uqJImQXSKgD5KcBQDR6PJ4/jsoKU5l8ApPSFd8E7L6Oz4hJQUpIFr/fdaxmNQEhZlr26A4bNL39e9lTQCIQGQqZAWRoouoPB4CcOIUQkgouLzyUkKS27AEj17Rp73Z0SGtGylRq7vaZbw14GEhEkqqtlK3V2e103IYLC9C3Ib0flRz8LhPjKIT6uSH0JmL8PDgwODe0M7tiiA07nQPQ95ysEkCcC3lx1r9nQ5nS2GZrv1jYbDDdrC1RIlQI8z/DKawAtEwFjtpjNFstvW6MtGoUyhDfabI3VBJECjOXt2vr6Wvuvzvudra1QRjZ+9PX1beAoAz4arTpj/4nRWnl2Vmk1nvQbddbK/luqDPiis+p0vccARkYAHPfqYKE3A+Ahv+r1Pfi+vlV/egplH++BHj5KeoeWD2GtVru9F9bGY7G4Nry3DW3Yj4s7JNRMy5uAIxSIxXcdB4eHB47deCwQcgQeNanoEgAyAE+niouL/auOzdDWVmjTseqHdsrfhBIuYS4YllQ+kcu78CW5XI4QlCW8S+gJxJ0PTg4PwofjCIcQhFBVQoEfwySOnkvDs2oNfTWowpQe3twcDt4o50pM2en+V/4ADiuBy0gwQ9YAAABXelRYdFJhdyBwcm9maWxlIHR5cGUgaXB0YwAAeJzj8gwIcVYoKMpPy8xJ5VIAAyMLLmMLEyMTS5MUAxMgRIA0w2QDI7NUIMvY1MjEzMQcxAfLgEigSi4A6hcRdPJCNZUAAAAASUVORK5CYII=",className:i.smallAvatar}),Object(a.jsx)(E.a,{className:i.title,variant:"h6",noWrap:!0,children:"ezbeq"}),Object(a.jsxs)("div",{className:i.search,children:[Object(a.jsx)("div",{className:i.searchIcon,children:Object(a.jsx)(C.a,{})}),Object(a.jsx)(T.a,{placeholder:"Search\u2026",classes:{root:i.inputRoot,input:i.inputInput},inputProps:{"aria-label":"search"},value:t,onChange:n,size:"small"})]}),Object(a.jsx)(y.a,{className:i.advancedFilter,control:Object(a.jsx)(S.a,{checked:c,onChange:r,size:"small"})})]})})},G=function(){var e=Object(f.a)(p.a.mark((function e(t,n){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n();case 2:a=e.sent,t(a);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),N=n(193),V=Object(u.a)((function(e){return{noLeft:{marginLeft:"0px"}}})),U=function(){var e=V(),t=Object(c.useState)({}),n=Object(s.a)(t,2),r=n[0],i=n[1],o=Object(c.useState)({}),u=Object(s.a)(o,2),l=u[0],d=u[1],j=function(e){return e.toString().padStart(2,"0")};return Object(c.useEffect)((function(){G(i,m.getMeta)}),[]),Object(c.useEffect)((function(){G(d,m.getVersion)}),[]),r||l?Object(a.jsxs)(N.a,{container:!0,justify:"space-around",className:e.noLeft,children:[Object(a.jsx)(N.a,{item:!0,children:Object(a.jsx)(E.a,{variant:"caption",color:"textSecondary",children:r?"BEQCatalogue: ".concat(function(e){if(e){var t=new Date(0);return t.setUTCSeconds(e),"".concat(t.getFullYear()).concat(j(t.getMonth()+1)).concat(j(t.getDate()),"_").concat(j(t.getHours())).concat(j(t.getMinutes())).concat(j(t.getSeconds()))}return"?"}(r.loaded)," / ").concat(r.version):""})}),Object(a.jsx)(N.a,{item:!0,children:Object(a.jsx)(E.a,{variant:"caption",color:"textSecondary",children:"UNKNOWN"!==l.version?"v".concat(l.version):l.version})})]}):null},P=n(71),B=Object(u.a)((function(e){return{noLeft:{marginLeft:"0px"}}})),Q=function(e,t){var n="";return e.length>1&&(n+=","),1===t.length?n+="".concat(t[0]):n+="".concat(t[0],"-").concat(t[t.length-1]),n},z=function(e){return"TV"===e.contentType?"".concat(e.title," ").concat(function(e){var t=e.hasOwnProperty("season")?"S".concat(e.season):"",n=e.hasOwnProperty("episodes")?e.episodes.split(","):"";if(n){if(n.length>1){for(var a="E",c=[],r=0;r<n.length;r++)0===c.length||c[c.length-1]===n[r]-1?c.push(parseInt(n[r])):(a+=Q(a,c),c=[]);return c.length>0&&(a+=Q(a,c)),"".concat(t).concat(a)}return"".concat(t,"E").concat(n)}return t}(e)):e.title},M=function(e){var t=e.entries,n=e.setSelectedEntryId,c=e.selectedEntryId,r=e.useWide,i=B(),o=[{field:"title",headerName:"Title",flex:.6,renderCell:function(e){return e.row.url?Object(a.jsx)("a",{href:e.row.avsUrl,target:"_beq",children:z(e.row)}):z(e.row)}},{field:"audioTypes",headerName:"Audio Type",flex:.4},{field:"sortTitle",hide:!0},{field:"edition",headerName:"Edition",hide:!r}];if(t.length>0){var s=Object(a.jsx)(N.a,{item:!0,style:{height:"".concat(Math.max(260,(window.innerHeight-306)/(c>-1?2:1)),"px"),width:"100%"},children:Object(a.jsx)(P.a,{rows:t,columns:o,pageSize:50,density:"compact",sortModel:[{field:"sortTitle",sort:"asc"}],onRowSelected:function(e){return n(e.data.id)}})});return r?s:Object(a.jsx)(N.a,{container:!0,className:i.noLeft,children:s})}return null},D=n(18),F=n(147),_=n(47),K=n(113),Y=n(73),q=n.n(Y),J=n(104),W=n.n(J),H=n(105),Z=n.n(H),X=n(3),$=n(5),ee=n(117),te=n(196),ne=n(62),ae=n(197),ce=n(54),re=n(102),ie=n.n(re),oe=n(103),se=n.n(oe),ue=Object(u.a)((function(e){return{padTop:{paddingTop:e.spacing(1),width:"100%"},withoutLabel:{marginTop:e.spacing(1)},sized:{margin:e.spacing(.5),width:"22.5%"},zeroPad:{padding:0},tightPad:{paddingRight:0}}})),le=Object($.a)({root:{"& .MuiOutlinedInput-adornedEnd":{paddingRight:"4px"}}})(ee.a),de=function(e){var t=e.fieldName,n=e.helpText,c=e.minGain,r=e.maxGain,i=e.step,o=e.savedValues,s=e.values,u=e.setMV,l=e.setMute,d=ue(),j=parseFloat(s.mv)!==parseFloat(o.mv)||s.mute!==o.mute;return Object(a.jsx)(le,{className:Object(X.a)(d.sized,d.withoutLabel,d.tightPad),variant:"outlined",id:t,value:s.mv,onChange:function(e){return u(e.target.value)},"aria-describedby":"".concat(t,"-helper-text"),InputProps:{endAdornment:Object(a.jsx)(te.a,{position:"end",children:Object(a.jsx)(_.a,{"aria-label":"mute channel",onClick:function(e){return l(!s.mute)},className:d.zeroPad,color:j?"secondary":"default",children:s.mute?Object(a.jsx)(ie.a,{}):Object(a.jsx)(se.a,{})})})},inputProps:{"aria-label":t,min:c,max:r,step:i},margin:"dense",type:"number",size:"small",label:n})},je=function(e){var t=e.selectedSlotId,n=e.deviceGains,c=e.gains,r=e.setGains,i=e.sendGains,o=e.isActive,s=(e.Progress,ue());return t>-1?Object(a.jsx)("div",{className:s.padTop,children:Object(a.jsx)(ne.a,{component:"fieldset",children:Object(a.jsxs)(ae.a,{row:!0,children:[Object(a.jsx)(de,{fieldName:"master-gain",helpText:"Master Gain",minGain:-127,maxGain:0,step:.5,savedValues:{mv:n.master_mv,mute:n.master_mute},values:{mv:c.master_mv,mute:c.master_mute},setMV:function(e){return r(Object(D.a)(Object(D.a)({},c),{master_mv:e}))},setMute:function(e){return r(Object(D.a)(Object(D.a)({},c),{master_mute:e}))}}),Object(a.jsx)(de,{fieldName:"input1-gain",helpText:"Input 1",minGain:-72,maxGain:12,step:.25,savedValues:{mv:n.inputOne_mv,mute:n.inputOne_mute},values:{mv:c.inputOne_mv,mute:c.inputOne_mute},setMV:function(e){return r(Object(D.a)(Object(D.a)({},c),{inputOne_mv:e}))},setMute:function(e){return r(Object(D.a)(Object(D.a)({},c),{inputOne_mute:e}))}}),Object(a.jsx)(de,{fieldName:"input2-gain",helpText:"Input 2",minGain:-72,maxGain:12,step:.25,savedValues:{mv:n.inputTwo_mv,mute:n.inputTwo_mute},values:{mv:c.inputTwo_mv,mute:c.inputTwo_mute},setMV:function(e){return r(Object(D.a)(Object(D.a)({},c),{inputTwo_mv:e}))},setMute:function(e){return r(Object(D.a)(Object(D.a)({},c),{inputTwo_mute:e}))}}),Object(a.jsx)(ce.a,{variant:"contained",size:"small",color:"default",className:s.sized,onClick:function(){return i(t,c)},startIcon:o()?Object(a.jsx)(F.a,{size:24}):Object(a.jsx)(q.a,{}),children:"Upload"})]})})}):Object(a.jsx)("div",{})},pe=Object(u.a)((function(e){return{noLeft:{marginLeft:"0px"},progress:{marginTop:"12px",marginRight:"12px"},fullWidth:{width:"100%"}}})),fe={master_mv:0,master_mute:!1,inputOne_mv:0,inputOne_mute:!1,inputTwo_mv:0,inputTwo_mute:!1},he=function(e,t,n){var a=e.find((function(e){return e.slotId===n&&e.action===t}));return a?a.state:-1},be=function(e){var t=e.slotId,n=e.onClick,c=e.label,r=e.Icon,i=e.active,o=e.disabled,s=void 0!==o&&o,u=pe(),l=he(i,c,t);return Object(a.jsx)("div",{children:1===l?Object(a.jsx)(F.a,{size:24,className:u.progress}):Object(a.jsx)(_.a,{"aria-label":c,onClick:n,color:2===l?"error":"primary",edge:"start",disabled:s,children:Object(a.jsx)(r,{})})})},me=function(e){var t=e.selectedEntryId,n=e.selectedSlotId,r=e.useWide,i=e.setSelectedSlotId,o=pe(),u=Object(c.useState)({}),l=Object(s.a)(u,2),d=l[0],j=l[1],h=Object(c.useState)([]),b=Object(s.a)(h,2),O=b[0],v=b[1],x=Object(c.useState)([25,120,"190px"]),g=Object(s.a)(x,2),w=g[0],A=g[1],T=Object(c.useState)(fe),y=Object(s.a)(T,2),S=y[0],E=y[1],I=Object(c.useState)({}),C=Object(s.a)(I,2),k=C[0],L=C[1];Object(c.useEffect)((function(){G(j,m.getDeviceConfig)}),[]),Object(c.useEffect)((function(){"slots"in d&&1===d.slots.length&&A([75,90,"80px"])}),[d]),Object(c.useEffect)((function(){var e=Object(D.a)({},fe);if(e.master_mv=d.masterVolume,e.master_mute=d.mute,n>0&&d&&d.hasOwnProperty("slots")){var t=d.slots.find((function(e){return e.id===n}));t&&(e.inputOne_mute=t.mute1,e.inputTwo_mute=t.mute2,e.inputOne_mv=t.gain1,e.inputTwo_mv=t.gain2)}L(e),E(e)}),[d,n]);var R=function(){var e=Object(f.a)(p.a.mark((function e(t,n,a){var c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v((function(e){return[{slotId:n,action:t,state:1}].concat(e)})),e.prev=1,e.next=4,a();case 4:c=e.sent,v((function(e){return e.filter((function(e){return!(e.slotId===n&&e.action===t)}))})),j(c),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0),v((function(e){return e.map((function(e){return e.slotId===n&&e.action===t?{slotId:n,action:t,state:2}:e}))}));case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n,a){return e.apply(this,arguments)}}(),V=[{field:"id",headerName:" ",width:w[0],valueFormatter:function(e){return"".concat(e.value).concat(e.getValue("active")?"*":"")}},{field:"actions",headerName:"Actions",width:w[1],renderCell:function(e){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(be,{slotId:e.row.id,disabled:-1===t,onClick:function(){return n=t,a=e.row.id,void R("send",a,(function(){return m.sendFilter(n,a)}));var n,a},label:"send",Icon:q.a,active:O}),e.row.canActivate?Object(a.jsx)(be,{slotId:e.row.id,onClick:function(){return t=e.row.id,void R("activate",t,(function(){return m.activateSlot(t)}));var t},label:"activate",Icon:W.a,active:O}):null,Object(a.jsx)(be,{slotId:e.row.id,onClick:function(){return t=e.row.id,void R("clear",t,(function(){return m.clearSlot(t)}));var t},label:"clear",Icon:Z.a,active:O})]})}},{field:"last",headerName:"Loaded",flex:.45},{field:"active",headerName:"Active",hide:!0}],U=Object(a.jsx)(N.a,{item:!0,style:{height:w[2],width:"100%"},children:Object(a.jsx)(P.a,{rows:"slots"in d?d.slots:[],columns:V,autoPageSize:!0,hideFooter:!0,density:"compact",onRowSelected:function(e){return i(e.data.id)}})});if(d&&d.hasOwnProperty("masterVolume")){var B=Object(a.jsx)(je,{selectedSlotId:n,deviceGains:k,gains:S,setGains:E,sendGains:function(e,t){R("gain",e,(function(){return m.setGains(e,t)}))},isActive:function(){return 1===he(O,"gain",n)}});return r?Object(a.jsx)(K.a,{onClickAway:function(){return i(-1)},children:Object(a.jsxs)("div",{className:o.fullWidth,children:[Object(a.jsx)(N.a,{container:!0,children:U}),Object(a.jsx)(N.a,{container:!0,children:B})]})}):Object(a.jsx)(K.a,{onClickAway:function(){return i(-1)},children:Object(a.jsxs)("div",{className:o.fullWidth,children:[Object(a.jsx)(N.a,{container:!0,direction:"column",children:U}),Object(a.jsx)(N.a,{container:!0,direction:"column",children:B})]})})}return r?Object(a.jsx)(N.a,{container:!0,children:U}):Object(a.jsx)(N.a,{container:!0,direction:"column",children:U})},Oe=n(19),ve=n(206),xe=n(106),ge=n.n(xe),we=n(107),Ae=n.n(we),Te=n(115),ye=function(e){var t=e.items,n=e.selectedValues,c=e.label,r=e.placeholder,i=void 0===r?"":r,o=e.noOptionsText,s=e.limitTags,u=e.onToggleOption,l=e.onCreateOption,d=e.onClearOptions,j=e.getOptionLabel,p=void 0===j?function(e){return e}:j,f=e.isInView,h=void 0===f?function(e){return!0}:f;return Object(a.jsx)(ve.a,{multiple:!0,size:"small",disableCloseOnSelect:!0,freeSolo:"undefined"!==typeof d,selectOnFocus:!0,handleHomeEndKeys:!0,limitTags:s,options:t,value:n,noOptionsText:o,onChange:function(e,t,n){"select-option"===n||"remove-option"===n?u&&u(t):"clear"===n?d&&d():"create-option"===n?l&&l(t):console.log("Event: ".concat(e," Value: ").concat(t," Reason: ").concat(n))},renderOption:function(e,t){var n,c=t.selected;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Te.a,{color:"primary",icon:Object(a.jsx)(ge.a,{fontSize:"small"}),checkedIcon:Object(a.jsx)(Ae.a,{fontSize:"small"}),style:{marginRight:8},checked:c}),Object(a.jsx)("div",{style:(n=e,{textDecoration:h(n)?"none":"line-through"}),children:p(e)})]})},renderInput:function(e){return Object(a.jsx)(ee.a,Object(D.a)(Object(D.a)({},e),{},{label:c,placeholder:i}))},getOptionLabel:p})};ye.defaultProps={limitTags:5,items:[],selectedValues:[]};var Se=ye,Ee=function(e){var t=e.visible,n=e.selectedAudioTypes,r=e.setSelectedAudioTypes,i=e.selectedYears,o=e.setSelectedYears,u=e.selectedAuthors,l=e.setSelectedAuthors,d=e.selectedContentTypes,j=e.setSelectedContentTypes,p=e.filteredEntries,f=Object(c.useState)([]),h=Object(s.a)(f,2),b=h[0],O=h[1],v=Object(c.useState)([]),x=Object(s.a)(v,2),g=x[0],w=x[1],A=Object(c.useState)([]),T=Object(s.a)(A,2),y=T[0],S=T[1],E=Object(c.useState)([]),I=Object(s.a)(E,2),C=I[0],k=I[1],L=Object(c.useState)([]),R=Object(s.a)(L,2),N=R[0],V=R[1],U=Object(c.useState)([]),P=Object(s.a)(U,2),B=P[0],Q=P[1];Object(c.useEffect)((function(){G(O,m.getAuthors)}),[]),Object(c.useEffect)((function(){G(w,m.getYears)}),[]),Object(c.useEffect)((function(){G(S,m.getAudioTypes)}),[]),Object(c.useEffect)((function(){G(k,m.getContentTypes)}),[]),Object(c.useEffect)((function(){G(V,(function(){return Object(Oe.a)(new Set(p.map((function(e){return e.year}))))})),G(Q,(function(){return Object(Oe.a)(new Set(p.map((function(e){return e.audioTypes})).flat()))}))}),[p]);return t?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Se,{items:C,selectedValues:d,label:"Content Types",onToggleOption:function(e){return j(e)},onClearOptions:function(){return j([])}}),Object(a.jsx)(Se,{items:b,selectedValues:u,label:"Author",onToggleOption:function(e){return l(e)},onClearOptions:function(){return l([])}}),Object(a.jsx)(Se,{items:g,selectedValues:i,label:"Year",onToggleOption:function(e){return o(e)},onCreateOption:function(e){return function(e){var t=g.filter((function(t){return e.some((function(e){return e===t||"".concat(t).indexOf(e)>-1}))}));o(t)}(e)},onClearOptions:function(){return o([])},getOptionLabel:function(e){return"".concat(e)},isInView:function(e){return 0===N.length||N.indexOf(e)>-1}}),Object(a.jsx)(Se,{items:y,selectedValues:n,label:"Audio Types",onToggleOption:function(e){return r(e)},onCreateOption:function(e){return function(e){var t=y.filter((function(t){return e.some((function(e){return e===t||t.toLowerCase().indexOf(e.toLowerCase())>-1}))}));r(t)}(e)},onClearOptions:function(){return r([])},isInView:function(e){return 0===B.length||B.indexOf(e)>-1}})]}):null},Ie=n(198),Ce=n(199),ke=n(200),Le=n(201),Re=n(202),Ge=Object(u.a)({root:{}}),Ne=function(e){return e&&e.audioTypes?e.audioTypes.map((function(e){return Object(a.jsxs)("span",{children:[Object(a.jsx)("br",{}),e]},e)})):null},Ve=function(e){return e&&e.mvAdjust?Object(a.jsxs)("span",{children:[Object(a.jsx)("br",{}),"MV Adjustment: ",e.mvAdjust>0?"+":"",e.mvAdjust," dB"]}):null},Ue=function(e){var t,n=e.selectedEntry,c=e.useWide,r=Ge();if(n){var i=n.images?n.images.map((function(e,t){return Object(a.jsx)(Ie.a,{component:"img",className:r.media,image:e,title:"img".concat(t),alt:"".concat(n.title," - ").concat(t)},"img".concat(t))})):null,o=Object(a.jsxs)(Ce.a,{children:[Object(a.jsxs)(E.a,{gutterBottom:!0,variant:"h5",component:"h3",children:[n.title,n.year?" (".concat(n.year,")"):""]}),n.edition?Object(a.jsx)(E.a,{variant:"body1",component:"p",children:n.edition}):null,n.altTitle?Object(a.jsx)(E.a,{variant:"body1",component:"p",children:n.altTitle}):null,Object(a.jsxs)(E.a,{variant:"body2",color:"textSecondary",component:"p",children:[(t=n,t&&t.season?t.episodes?/^\d+$/.test(t.episodes)?"S".concat(t.season," E").concat(t.episodes):"S".concat(t.season," ").concat(t.episodes):"S".concat(t.season):null),Ne(n),Ve(n)]})]}),s=c?Object(a.jsxs)(ke.a,{children:[o,i]}):Object(a.jsxs)(ke.a,{children:[i,o]});return Object(a.jsxs)(Le.a,{className:r.root,children:[s,Object(a.jsxs)(Re.a,{children:[n.avsUrl?Object(a.jsx)(ce.a,{size:"small",color:"primary",href:n.avsUrl,target:"_avs",children:"Discuss"}):null,n.beqcUrl?Object(a.jsx)(ce.a,{size:"small",color:"primary",href:n.beqcUrl,target:"_beq",children:"Catalogue"}):null]})]})}return null},Pe=Object(u.a)((function(e){return{root:{flexGrow:1,width:"100vw",height:"100vh","& > *":{margin:e.spacing(1)}}}})),Be=function(){var e=Object(O.a)("(prefers-color-scheme: dark)"),t=r.a.useMemo((function(){return Object(l.a)({palette:{type:e?"dark":"light"}})}),[e]),n=Pe(),i=Object(c.useState)([]),o=Object(s.a)(i,2),u=o[0],j=o[1],p=Object(c.useState)([]),f=Object(s.a)(p,2),h=f[0],b=f[1],x=Object(c.useState)([]),g=Object(s.a)(x,2),w=g[0],A=g[1],T=Object(c.useState)([]),y=Object(s.a)(T,2),S=y[0],E=y[1],I=Object(c.useState)([]),C=Object(s.a)(I,2),k=C[0],L=C[1],V=Object(c.useState)([]),P=Object(s.a)(V,2),B=P[0],Q=P[1],z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=Object(c.useState)(null!==e?e:[]),n=Object(s.a)(t,2),a=n[0],r=n[1];return[a,function(e){r(e.target.value)}]}(""),D=Object(s.a)(z,2),F=D[0],_=D[1],K=Object(c.useState)(!1),Y=Object(s.a)(K,2),q=Y[0],J=Y[1],W=Object(c.useState)(-1),H=Object(s.a)(W,2),Z=H[0],X=H[1],$=Object(c.useState)(-1),ee=Object(s.a)($,2),te=ee[0],ne=ee[1];Object(c.useEffect)((function(){G(j,m.load)}),[]),Object(c.useEffect)((function(){var e=function(e){return!(w.length&&!(w.indexOf(e.author)>-1)||S.length&&!(S.indexOf(e.year)>-1)||k.length&&!e.audioTypes.some((function(e){return k.indexOf(e)>-1}))||B.length&&!(B.indexOf(e.contentType)>-1)||F&&!function(e){var t=F.toLowerCase();return!!e.title.toLowerCase().includes(t)||!(!e.hasOwnProperty("altTitle")||!e.altTitle.toLowerCase().includes(t))}(e))};G(b,(function(){return u.filter(e)}))}),[u,k,S,w,B,F]);var ae=Object(O.a)("(orientation: landscape) and (min-height: 580px)"),ce=Object(a.jsx)(me,{selectedEntryId:Z,selectedSlotId:te,useWide:ae,setSelectedSlotId:ne}),re=Object(a.jsx)(M,{entries:h,setSelectedEntryId:X,selectedEntryId:Z,useWide:ae}),ie=Object(a.jsx)(Ue,{selectedEntry:Z?h.find((function(e){return e.id===Z})):null,useWide:ae});return Object(a.jsxs)(d.a,{theme:t,children:[Object(a.jsx)(v.a,{}),Object(a.jsxs)("div",{className:n.root,children:[Object(a.jsx)(R,{txtFilter:F,handleTxtFilterChange:_,showFilters:q,toggleShowFilters:function(){J((function(e){return!e}))}}),Object(a.jsx)(Ee,{visible:q,selectedAudioTypes:k,setSelectedAudioTypes:L,selectedYears:S,setSelectedYears:E,selectedAuthors:w,setSelectedAuthors:A,selectedContentTypes:B,setSelectedContentTypes:Q,filteredEntries:h}),ae?Object(a.jsxs)(N.a,{container:!0,children:[Object(a.jsxs)(N.a,{item:!0,xs:6,md:6,children:[ce,Object(a.jsx)(N.a,{container:!0,children:re})]}),Object(a.jsx)(N.a,{item:!0,xs:6,md:6,children:ie})]}):Object(a.jsxs)(a.Fragment,{children:[ce,re,ie]}),Object(a.jsx)(U,{})]})]})};o.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(Be,{})}),document.getElementById("root"))}},[[141,1,2]]]);
//# sourceMappingURL=main.f0c8a195.chunk.js.map