(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{461:function(e,t,n){var content=n(497);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(70).default)("3f2899de",content,!0,{sourceMap:!1})},467:function(e,t,n){"use strict";var o=n(4),r=n(495),c=n(46),d=n(33),l=n(17),f=n(116);o({target:"Array",proto:!0},{flatMap:function(e){var t,n=c(this),o=d(n.length);return l(e),(t=f(n,0)).length=r(t,n,n,o,0,1,e,arguments.length>1?arguments[1]:void 0),t}})},468:function(e,t,n){n(115)("flatMap")},480:function(e,t,n){var content=n(522);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(70).default)("4b917914",content,!0,{sourceMap:!1})},495:function(e,t,n){"use strict";var o=n(98),r=n(33),c=n(39),d=function(e,t,source,n,l,f,m,_){for(var element,v=l,h=0,y=!!m&&c(m,_,3);h<n;){if(h in source){if(element=y?y(source[h],h,t):source[h],f>0&&o(element))v=d(e,t,element,r(element.length),v,f-1)-1;else{if(v>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[v]=element}v++}h++}return v};e.exports=d},496:function(e,t,n){"use strict";n(461)},497:function(e,t,n){var o=n(69)(!1);o.push([e.i,'.filter__item--confidence[data-v-3012e825]{text-align:left;transition:border .2s ease;background:#fff;width:auto;height:45px;border:2px solid #d8d8d8;align-items:center;padding:0 1em;transition:all .2s ease;border-radius:0}.filter__item--confidence[data-v-3012e825]:focus,.filter__item--confidence[data-v-3012e825]:hover{border:2px solid #6a29e2;background:#fff;transition:border .2s ease,background .2s ease}.filter__item--confidence[data-v-3012e825]:after{content:"";border-color:#686a6d;border-style:solid;border-width:1px 1px 0 0;display:inline-block;height:8px;width:8px;transform:translateY(-50%) rotate(133deg);transition:all 1.5s ease;position:absolute;right:2.1em;top:50%;pointer-events:none}.filter__item--confidence .button-clear[data-v-3012e825],.filter__item--confidence .filter__buttons[data-v-3012e825]{display:none}.filter__item--confidence .confidence-content[data-v-3012e825]{width:100%;padding-right:.8em;padding-left:.8em;text-align:center}.filter__item--confidence .range__container[data-v-3012e825]{margin-top:-8px;padding:0 .5em}.filter__item--confidence .range[data-v-3012e825]{font-size:14px;font-size:.875rem;text-align:center;display:none}.filter__item--confidence .range__panel[data-v-3012e825]{display:inline-block;border:1px solid #d8d8d8;padding:.5em 1em}.filter__item--confidence[data-v-3012e825]  svg{margin-top:5px;height:30px!important;max-width:90%}.filter__item--confidence.expanded[data-v-3012e825]{margin-top:10px;position:absolute;background:#fff;padding:.8em .8em 0;height:auto;min-height:auto;transition:height .1s ease-in-out;overflow:visible;border-radius:2px;z-index:4;width:400px;max-width:100vw;min-height:210px;border:2px solid #6a29e2;pointer-events:all}.filter__item--confidence.expanded[data-v-3012e825]:after{content:none}.filter__item--confidence.expanded .confidence[data-v-3012e825]  svg{max-width:100%;height:100px!important}.filter__item--confidence.expanded .filter__buttons[data-v-3012e825]{margin-top:2em;display:block}.filter__item--confidence.expanded .range[data-v-3012e825]{display:block}.filter__item--confidence.expanded .range__container[data-v-3012e825]{pointer-events:visible}.filter__item--confidence.expanded .label-default[data-v-3012e825]{display:block}[data-v-3012e825] .marks .background,[data-v-3012e825] .marks line{stroke:none!important}[data-v-3012e825] .marks .role-axis,[data-v-3012e825] .marks .role-legend{display:none!important}[data-v-3012e825] .marks text{font-weight:400!important;font-family:"Open Sans","Helvetica","Arial",sans-serif!important}',""]),e.exports=o},503:function(e,t,n){"use strict";n.r(t);n(37),n(32),n(31);var o={props:{filter:{type:Object,default:function(){return{}}}},data:function(){return{confidenceExpanded:!1,rangeOptions:{height:4,dotSize:20,min:0,max:100,interval:1,show:!0},confidenceRanges:[],autosize:{type:"none",resize:!0,contains:"padding"},mark:"area",config:{mark:{color:"#D9D7E4",binSpacing:0},bar:{binSpacing:0,discreteBandSize:0,continuousBandSize:0},axis:{labels:!1},view:{height:100,width:400}},encoding:{x:{field:"key",type:"ordinal",scale:{rangeStep:null}},y:{field:"count",type:"quantitative",aggregate:"sum"}}}},computed:{options:function(){var e=this;return Object.keys(this.filter.options).map((function(t){return{key:t,count:e.filter.options[t]}}))},visible:function(){return this.confidenceExpanded},min:function(){return this.confidenceRanges[0]},max:function(){return this.confidenceRanges[1]}},created:function(){this.confidenceRanges=[this.rangeOptions.min,this.rangeOptions.max]},updated:function(){this.confidenceExpanded?document.body.classList.add("--fixed"):document.body.classList.remove("--fixed")},methods:{expandConfidence:function(){this.confidenceExpanded=!0},onApplyConfidenceRange:function(){this.$emit("apply",this.filter,{from:.01*this.min,to:.01*this.max}),this.confidenceExpanded=!1},onClose:function(){this.confidenceExpanded=!1}}},r=(n(496),n(25)),component=Object(r.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"filter__item filter__item--confidence",class:{"filter__item--open":e.confidenceExpanded},on:{click:e.expandConfidence}},[n("div",{staticClass:"confidence-content"},[n("vega-lite",{staticClass:"confidence",attrs:{data:e.options,autosize:e.autosize,config:e.config,mark:e.mark,encoding:e.encoding}})],1)]),e._v(" "),e.confidenceExpanded?n("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.onClose,expression:"onClose"}],staticClass:"filter__item filter__item--confidence",class:{expanded:e.confidenceExpanded}},[n("div",{staticClass:"confidence-content"},[n("p",{staticClass:"range__panel"},[e._v(e._s(e.min)+"% to "+e._s(e.max)+"%")]),e._v(" "),n("vega-lite",{staticClass:"confidence",attrs:{data:e.options,autosize:e.autosize,config:e.config,mark:e.mark,encoding:e.encoding}}),e._v(" "),n("div",{staticClass:"range__container"},[e.confidenceExpanded?n("ReRange",e._b({ref:"slider",model:{value:e.confidenceRanges,callback:function(t){e.confidenceRanges=t},expression:"confidenceRanges"}},"ReRange",e.rangeOptions,!1)):e._e()],1)],1),e._v(" "),n("div",{staticClass:"filter__buttons"},[n("ReButton",{staticClass:"button-tertiary--small button-tertiary--outline",on:{click:function(t){return e.onClose()}}},[e._v("Cancel")]),e._v(" "),n("ReButton",{staticClass:"button-primary--small",on:{click:function(t){return e.onApplyConfidenceRange()}}},[e._v("Apply")])],1)]):e._e(),e._v(" "),e.confidenceExpanded?n("div",{staticClass:"overlay"}):e._e()])}),[],!1,null,"3012e825",null);t.default=component.exports;installComponents(component,{ReRange:n(559).default,ReButton:n(439).default})},521:function(e,t,n){"use strict";n(480)},522:function(e,t,n){var o=n(69)(!1);o.push([e.i,'.filters[data-v-77523f6b]{display:inline-block;width:100%;z-index:2}.filters__tabs[data-v-77523f6b]{display:flex}.filters__tabs__number[data-v-77523f6b]{position:relative;color:#686a6d;z-index:1;position:absolute;height:18px;width:18px;text-align:center;top:-5px;right:-5px;font-size:10px;font-size:.625rem}.filters__tabs__number[data-v-77523f6b]:before{content:"";box-shadow:0 2px 4px 0 rgba(0,0,0,.27);background:#fff;border-radius:50%;height:18px;width:18px;position:absolute;right:0;z-index:-1}.filters__tabs p[data-v-77523f6b]{cursor:pointer;position:relative;margin-top:0;padding:.3em 1em;border:1px solid #d8d8d8;margin-right:-1px}.filters__tabs p[data-v-77523f6b]:last-child{margin-right:0}.filters__tabs p.active[data-v-77523f6b]{border:1px solid #6a29e2;background:#6a29e2;color:#fff}.filter[data-v-77523f6b]{vertical-align:bottom;float:left;text-align:left;position:relative;padding-right:1em;min-width:135px;width:25%;margin-bottom:1em;max-width:200px}.filter__sort[data-v-77523f6b]{min-width:150px;margin-right:0;margin-left:1em}',""]),e.exports=o},558:function(e,t,n){"use strict";n.r(t);n(29),n(42),n(26),n(43);var o=n(13),r=n(79);n(16),n(154),n(34),n(155),n(156),n(157),n(158),n(159),n(160),n(161),n(162),n(163),n(164),n(165),n(166),n(167),n(168),n(169),n(170),n(38),n(37),n(31),n(365),n(366),n(32),n(58),n(467),n(468),n(56),n(71);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function d(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var l={props:{dataset:{type:Object,default:function(){return{}}}},data:function(){return{initialVisibleGroup:"Predictions",filters:[{key:"predicted_as",name:"Predicted as",type:"select",group:"Predictions"},{key:"predicted",name:"Predicted",type:"select",group:"Predictions"},{key:"confidence",name:"Confidence",type:"confidence",group:"Predictions"},{key:"predicted_by",name:"Predicted by",type:"select",group:"Predictions"},{key:"annotated_as",name:"Annotated as",type:"select",group:"Annotations"},{key:"status",name:"Status",type:"select",group:"Annotations"},{key:"annotated_by",name:"Annotated by",type:"select",group:"Annotations"}]}},computed:{groups:function(){return Object(r.a)(new Set(this.filterList.map((function(e){return e.group}))))},isMultiLabelRecord:function(){return this.dataset.results.records.some((function(e){return e.multi_label}))},filterList:function(){var e=this,t=this.dataset.results.aggregations,n=this.filters.map((function(filter){return d(d({},filter),{},{id:filter.key,options:t[filter.key],selected:e.dataset.query[filter.key],disabled:"confidence"===filter.key&&e.isMultiLabelRecord||!t[filter.key]||!Object.entries(t[filter.key]).length||Object.values(t[filter.key]).every((function(e){return 0===e}))})})).filter((function(e){return!e.disabled})),o=Object.keys(t.metadata).map((function(n){return{key:n,name:n,type:"select",group:"Metadata",id:n,options:t.metadata[n],selected:e.dataset.query.metadata&&e.dataset.query.metadata[n]||[]}})).sort((function(a,b){return a.key.toLowerCase()>b.key.toLowerCase()?1:-1}));return[].concat(Object(r.a)(n),Object(r.a)(o))}},watch:{groups:function(){this.setInitialGroup()}},mounted:function(){this.setInitialGroup()},methods:{itemsAppliedOnGroup:function(e){return this.filterList.filter((function(t){return t.group===e})).flatMap((function(e){return e.selected})).filter((function(e){return e})).length},selectGroup:function(e){this.initialVisibleGroup=e},setInitialGroup:function(){this.groups.includes(this.initialVisibleGroup)||(this.initialVisibleGroup=this.groups[0])},onApply:function(filter,e){"Metadata"===filter.group?this.$emit("applyMetaFilter",{filter:filter.key,values:e}):this.$emit("applyFilter",{filter:filter.key,values:e})}}},f=(n(521),n(25)),component=Object(f.a)(l,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"filters"},[n("div",{staticClass:"filters__tabs"},e._l(e.groups,(function(t){return n("p",{key:t,class:{active:e.initialVisibleGroup===t},on:{click:function(n){return e.selectGroup(t)}}},[e._v("\n      "+e._s(t)+"\n      "),e.itemsAppliedOnGroup(t)?n("span",{staticClass:"filters__tabs__number"},[e._v(e._s(e.itemsAppliedOnGroup(t)))]):e._e()])})),0),e._v(" "),e._l(e.groups,(function(t){return n("div",{key:t},[e.initialVisibleGroup===t?n("div",e._l(e.filterList.filter((function(e){return e.group===t})),(function(filter){return n("span",{key:filter.id},["select"===filter.type?n("SelectFilter",{staticClass:"filter",attrs:{filter:filter},on:{apply:e.onApply}}):n("FilterConfidence",{staticClass:"filter",attrs:{filter:filter},on:{apply:e.onApply}})],1)})),0):e._e()])}))],2)}),[],!1,null,"77523f6b",null);t.default=component.exports;installComponents(component,{SelectFilter:n(592).default,FilterConfidence:n(503).default})}}]);